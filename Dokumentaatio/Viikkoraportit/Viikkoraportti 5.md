Viikkoraportti 5
-------

Edellisten viikkojen aikana olen keskittynyt 15-pelin ratkaisualgoritmin optimointiin, käyttöliittymän luomiseen, koodin siistimiseen, vertaisarviointiin sekä aloittanut vielä puuttuvia dokumentointeja. Koodi on tällä hetkellä ydin osa-alueltaan sekä omien tietorakenteiden osalta lähestulkoon valmis. Pientä viilailua ja optimointia pystyisi tekemään lähestulkoon loputtomiin, mutta jossain vaiheessa on vain tultava siihen lopputulokseen, että projekti on valmis. Tuo vaihe alkaa häämöttämään. 

Viimeisimmän viikkoraportin jälkeen suurin muutos projektissani on tekstikäyttöliittymän luominen. Tein projektiini suhteellisen simppelin tekstikäyttöliittymän. Tällä hetkellä tekstikäyttöliittymän avulla käyttäjä voi ratkaista 3x3 tai 4x4 kokoisia satunnaisesti generoituja 8- tai 15-pelin alkutilanteita. Käyttäjä voi myös halutessaan tulostaa ratkaisuun johtaneet siirrot näytölle. Ennen lopullista palautusta saatan myös lisätä käyttäjälle mahdollisuuden syöttää ratkaistavaksi haluamansa pelitilanteen. Kaikki mahdolliset pelin alkutilanteet eivät kuitenkaan ole ratkaistavissa, joten tämän mahdollisuuden lisääminen tarvitsisi tuekseen tarkistusmetodin, jolla pelitilanteen mahdollinen ratkeavuus tarkistetaan. Nähtäväksi jää mitä kaikkea koodiin haluaa vielä lisäillä ennen lopullista palautusta.

Koodia optimoin muuttamalla uusien pelitilanteiden manhattan distancen arvon laskemista. Tähän asti jokaiselle pelitilanteelle on laskettu uusi manhattan distancen arvo käymällä kaikki pelitaulukon alkiot läpi. Tämä on kuitenkin turhaa sillä todellisuudessa vain yhden pelilaatan sijainti muuttuu. Optimoin koodia luomalla metodin, joka laskee uuden manhattan distancen arvon vanhasta pelistä siirtosuunnan perustealla. 1000 pelin keskimääräisen ratkaisuajan perusteella tämä optimointi nopeutti ratkaisualgoritmia n. 10 prosenttia. Optimointi on sitä parempi mitä isompi peliruudukko on kyseessä. 

Suorituskykytestausta olen tehnyt sitä mukaa kun projekti on edennyt. Viikkoraporttien lisäksi tästä ei ole vielä olemassa kovin tarkkaa dokumentointia. Jatkan sekä testaus- ja toteutusdokumentin kirjoittamista ensiviikolla. Tällä viikolla tein tarkkaa suorituskykytestausta varten metodin rungon, joka testaa ratkaisualgoritmia konstruoimalla ja ratkaisemalla haluamani määrän pelejä. Tällä hetkellä ajatuksissani olisi kerätä kaikki mielestäni oleellinen data 1 000 - 10 000 erilaisesta pelitilanteesta. 

Edellisessä viikkoraportissa näytti vielä siltä, että saattaisin saada ratkaisualgoritmin toimimaan myös 24-pelin kohdalla. Olen testaillut 24-pelin ratkaisua erilaisilla heuristiikkafunktion kertoimilla ja alkaa näyttää siltä, että vain noin 80-90 prosenttia peleistä ratkeaa alle 2 minuutissa(tätä kauempaa en jaksanut odottaa). Hihassa on vielä muutama ajatus, joilla viimeisetkin pelit saisi ratkeamaan, mutta saa nähdä riittääkö tähän aikaa ja intoa.

Kokonaisuudessaan aikaa projektille viimeisen kahden viikon aikana on siunaantunut luultavasti 10-15 tuntia. En ole missää vaiheessa pitänyt tarkkaa kirjaa käytetyistä tunneista, joten arviointi näin jälkikäteen on hieman hankalaa. Istun pääsääntöisesti vain alas katsomatta kelloa ja aloitan jonkin tekemisen kunnes havahdun siihen, että olen hukannut täysin ajantajuni.
